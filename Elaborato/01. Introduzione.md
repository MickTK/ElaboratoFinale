\nuovocapitolo{1. Introduzione}

# 1. Introduzione
La crittografia è ormai un argomento presente in qualsiasi ambiente informatico.
Abbiamo a che fare con sistemi crittografici quando mandiamo un messaggio, quando scarichiamo un file da internet, quando effettuiamo l'accesso ad un social network o quando effettuiamo degli acquisti tramite una carta di debito.
Insomma, la crittografia è alla base di numerosi sistemi di uso quotidiano.

Al giorno d'oggi è possibile trovare centinaia di strumenti utili alla costruzione di tali sistemi.
L'obiettivo dell'elaborato è quello di spiegare e illustrare come utilizzare uno di questi strumenti, ossia la libreria PyCryptoDome.

PyCryptoDome permette di creare delle applicazioni crittografiche in modo semplice, garantendone sicurezza ed efficacia.
La libreria è stata sviluppata con il linguaggio di programmazione Python, il che la rende versatile e flessibile.

L'elaborato consiste nello sviluppo di sistemi informatici tramite l'utilizzo di PyCryptoDome, trattando un package diverso della libreria in ciascun capitolo.
Ogni capitolo introduce quindi al package associato, descrivendo gli obiettivi delle primitive crittografiche implementate in esso e descrivendo nel dettaglio, in ciascuna sezione, l'utilizzo di tali primitive in relazione a dei comuni casi d'uso.
Per alcune primitive, viene anche effettuato un test comparativo per valutare l'efficienza dell'implementazione della libreria rispetto ad altri moduli esistenti che ne implementano la medesima primitiva.

A fine lettura, si avrà una visione completa su tutte le funzionalità offerte dalla libreria e ci si potrà avvalere di script esemplificativi chiari, stilati seguendo le *good practices* suggerite dalla stessa libreria.

### Ambiente di sviluppo e strumenti {.unlisted .unnumbered}
Prima di cimentarci nell'implementazione della libreria, è necessario definire il proprio ambiente di sviluppo e gli strumenti che verranno utilizzati.

## 1.1. Linguaggio Python
*Python* è un linguaggio di programmazione ad alto livello, orientato agli oggetti. Il suo design agevola la leggibilità del codice, permettendo di focalizzarsi maggiormente sull'idea da implementare rispetto che all'implementazione. È uno dei linguaggi di programmazione più utilizzati nel mondo e la sua fama è ancora in crescita.

La versione a cui fanno riferimento gli script d'esempio è la 3.9.0.

### Codifica e decodifica caratteri {.unlisted .unnumbered}
La codifica è un'operazione che associa un carattere ad un valore (spesso numerico) comprensibile ad un elaboratore.

Nei capitoli a seguire verrà utilizzata maggiormente la codifica *UTF-8* in quanto ampiamente utilizzata e standard di Python.

UTF-8 utilizza un solo byte per tutti i caratteri ASCII, due o più per tutti gli altri caratteri.

In python possono essere chiamati i metodi *encode* e *decode* su una variabile di tipo stringa per effettuarne la codifica e la decodifica. I metodi prendono come parametro il nome della formato di codifica (per *UTF-8* può essere omesso).

```python
message = 'Il gatto è sul tavolo.'
encoded_message = message.encode('UTF-8') # b'Il gatto \xc3\xa8 sul tavolo.'
decoded_message = encoded_message.decode() # 'Il gatto è sul tavolo.'
```

\nuovapaginasinistra

## 1.2. Librerie e moduli
Data la popolarità del linguaggio Python, è possibile trovare in giro per il web un notevole numero di librerie crittografiche. L'elaborato si focalizza sullo studio della libreria *PyCryptoDome* e utilizza altre librerie concorrenti per effettuare dei test sull'efficienza delle implementazioni delle primitive.

Di seguito viene mostrata una tabella contenente le 20 primitive di maggior utilizzo e in quali tra le più note librerie (o moduli) è possibile trovarne un'implementazione.

|            | PyCryptoDome | Cryptography |  PyNaCl   |  hashlib  |   hmac    |
| ---------- | :----------: | :----------: | :-------: | :-------: | :-------: |
| MD5        |  $\spunta$   |  $\spunta$   | $\croce$  | $\spunta$ | $\croce$  |
| SHA-256    |  $\spunta$   |  $\spunta$   | $\spunta$ | $\spunta$ | $\croce$  |
| SHA-512    |  $\spunta$   |  $\spunta$   | $\spunta$ | $\spunta$ | $\croce$  |
| BLAKE2     |  $\spunta$   |  $\spunta$   | $\croce$  | $\spunta$ | $\croce$  |
| Poly1305   |  $\spunta$   |  $\spunta$   | $\spunta$ | $\croce$  | $\croce$  |
| HMAC       |  $\spunta$   |  $\spunta$   | $\spunta$ | $\croce$  | $\spunta$ |
| Salsa20    |  $\spunta$   |  $\spunta$   | $\spunta$ | $\croce$  | $\croce$  |
| ChaCha20   |  $\spunta$   |  $\spunta$   | $\spunta$ | $\croce$  | $\croce$  |
| AES        |  $\spunta$   |  $\spunta$   | $\croce$  | $\croce$  | $\croce$  |
| Triple DES |  $\spunta$   |  $\spunta$   | $\croce$  | $\croce$  | $\croce$  |
| Twofish    |   $\croce$   |   $\croce$   | $\croce$  | $\croce$  | $\croce$  |
| Camellia   |   $\croce$   |  $\spunta$   | $\croce$  | $\croce$  | $\croce$  |
| RSA        |  $\spunta$   |  $\spunta$   | $\croce$  | $\croce$  | $\croce$  |
| PKCS#1 PSS |  $\spunta$   |  $\spunta$   | $\croce$  | $\croce$  | $\croce$  |
| ECC        |  $\spunta$   |  $\spunta$   | $\spunta$ | $\croce$  | $\croce$  |
| DSS        |  $\spunta$   |  $\spunta$   | $\croce$  | $\croce$  | $\croce$  |
| DH         |  $\spunta$   |  $\spunta$   | $\spunta$ | $\croce$  | $\croce$  |
| Shamir     |  $\spunta$   |   $\croce$   | $\croce$  | $\croce$  | $\croce$  |
| PBKDF2     |  $\spunta$   |  $\spunta$   | $\croce$  | $\croce$  | $\croce$  |
| Argon2     |   $\croce$   |   $\croce$   | $\croce$  | $\croce$  | $\croce$  |
| scrypt     |  $\spunta$   |  $\spunta$   | $\spunta$ | $\croce$  | $\croce$  |

Introduciamo ora le librerie e i moduli che andremo ad utilizzare nei capitoli a seguire.

### PyCryptoDome {.unlisted .unnumbered}

La libreria *PyCryptoDome* è una collezione di primitive crittografiche a basso livello.
È una versione popolare e migliorata dell'ultima versione dell'ormai deprecata libreria *PyCrypto*.

La libreria introduce nuove funzionalità e algoritmi crittografici che verranno studiati ed utilizzati nei capitoli a seguire.

Le funzionalità sono suddivise in pacchetti (package) contenenti i vari algoritmi crittografici. Tutti gli algoritmi sono stati implementati in puro Python, eccetto alcuni algoritmi critici che sono stati implementati come estensioni in linguaggio C per migliorarne le prestazioni.

```bash
pip install pycryptodome
```

### os {.unlisted .unnumbered}
Il modulo (built-in) *os* contiene una serie di funzionalità compatibili con il sistema operativo in uso.

La sua portabilità ed efficienza lo rendono essenziale per l'interazione con il file system e l'utilizzo di funzioni a basso livello messe a disposizione dal sistema operativo.

\nuovapaginadestra

### hashlib {.unlisted .unnumbered}
Il modulo (built-in) *hashlib* implementa un'interfaccia ai più comuni algoritmi di hashing.

Il modulo offre degli algoritmi implementati in linguaggio a basso livello (assembly) utilizzando istruzioni AVX (Advanced Vector Extension).

### hmac {.unlisted .unnumbered}
Il modulo (built-in) *hmac* implementa l'algoritmo HMAC per la generazione di codici di autenticazione.

Il modulo utilizza delle librerie a basso livello tra cui gli algoritmi di hashing (implementati nel modulo *hashlib*) rendendolo un modulo efficiente e sicuro.

### secrets {.unlisted .unnumbered}
Il modulo (built-in) *secrets* è utilizzato per la generazione di valori numerici casuali ritenuti fortemente sicuri per l'utilizzo in ambito crittografico.

### salsa20 {.unlisted .unnumbered}
Il modulo *salsa20* implementa gli algoritmi di cifratura simmetrica *Salsa20* e *XSalsa20* presenti nella libreria PyNaCl.

```bash
pip install salsa20
```

### Cryptography {.unlisted .unnumbered}
La libreria *Cryptography* implementa delle interfaccia, a basso livello e ad alto livello, degli algoritmi più comuni utilizzati per la crittografia, l'hashing e la derivazione di chiavi.

```bash
pip install cryptography
```

## 1.3. Campioni e strumenti per i test
I campioni utilizzati per comparare l'efficienza di un algoritmo tra due librerie (o moduli) sono stati ottenuti utilizzando un processore *AMD Ryzen 7 3800x*.

I test sono stati effettuati tramite la funzione di analisi dati di *Excel*.

Il criterio di scelta della libreria/modulo con la quale vengono eseguite le comparazioni sono (in ordine):

1. La libreria/modulo deve essere già inclusa con l'installazione di Python (built-in)
2. La libreria/modulo deve essere popolare (buona indicizzazione nei motori di ricerca e supporto attivo su siti come Stack Overflow e Github)

\nuovapaginasinistravuota
